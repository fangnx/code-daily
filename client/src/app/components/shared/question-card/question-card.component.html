<main>
  <div
    class="card"
    [ngClass]="{ clickable: !isExpanded }"
    (click)="onCardClicked()"
  >
    <div class="card-header">
      <article>
        <h3>
          {{ title | titlecase }}
        </h3>

        <fa-icon
          *ngIf="isExpanded"
          (click)="onCloseIconClicked($event)"
          [icon]="closeIcon"
        ></fa-icon>
      </article>

      <question-badge
        [owner]="owner"
        [creationDate]="creationDate"
        [answerCount]="answerCount"
        [viewCount]="viewCount"
      >
      </question-badge>

      <div class="info-buttons">
        <article>
          <simple-tag *ngFor="let tag of tags" [text]="tag"></simple-tag>
        </article>

        <article>
          <fa-icon
            [icon]="stackoverflowIcon"
            class="stackoverflow-icon"
            (click)="onStackOverflowIconClicked($event)"
            tooltip="Open the question in StackOverflow"
          ></fa-icon>
          <fa-icon
            [icon]="pocketIcon"
            class="getpocket-icon"
            (click)="onGetPocketIconClicked($event)"
            tooltip="Add to Pocket"
          ></fa-icon>
        </article>
      </div>
    </div>

    <ng-container *ngIf="isExpanded">
      <div class="card-body" [@fadeInOnEnter]>
        <question-content
          [contentRawHtml]="rawHtml"
          [contentRawMarkdown]="rawMarkdown"
        ></question-content>
      </div>
    </ng-container>
  </div>
</main>
